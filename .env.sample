# Capstone Hub Environment Configuration
# Phase 1b - Pre-Production Hardening
# Copy this to .env and fill in values

# ============================================
# CRITICAL SECURITY SETTINGS
# ============================================

# Flask secret key for session signing
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-64-character-hex-string

# Admin credentials (use HASH for production, PLAIN for development)
# Generate hash: python -c "from werkzeug.security import generate_password_hash; print(generate_password_hash('YourPassword'))"
ADMIN_PASSWORD_HASH=pbkdf2:sha256:your-hash-here
ADMIN_PASSWORD=YourPlainPassword  # Development only

# Viewer credentials
VIEWER_PASSWORD_HASH=pbkdf2:sha256:your-hash-here
VIEWER_PASSWORD=YourViewerPassword  # Development only

# ============================================
# APPLICATION SETTINGS
# ============================================

FLASK_ENV=production  # or 'development'
PORT=5000
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# Database
DATABASE_URL=sqlite:///src/database/app.db

# ============================================
# SECURITY FEATURES (defaults in code)
# ============================================

# Session Configuration
# SESSION_COOKIE_NAME=capstonehub_session
# SESSION_COOKIE_SECURE=True
# SESSION_COOKIE_HTTPONLY=True
# SESSION_COOKIE_SAMESITE=Lax
# PERMANENT_SESSION_LIFETIME=1800  # 30 minutes

# CSRF Protection
# WTF_CSRF_ENABLED=True
# WTF_CSRF_CHECK_DEFAULT=True

# Rate Limiting
# Login: 5 per 15 minutes
# Global: 2000/day, 200/hour

# ============================================
# DEBUG (NEVER ENABLE IN PRODUCTION)
# ============================================

ENABLE_DEBUG_ROUTES=0  # Must be 0 in production
# DEBUG_KEY=  # Leave empty

# ============================================
# DEPLOYMENT CHECKLIST
# ============================================

# Before deploying to Railway:
# 1. Set all required variables via Railway CLI or dashboard
# 2. Use HASHED passwords (not plain)
# 3. Verify ENABLE_DEBUG_ROUTES=0
# 4. Run: python scripts/validate_env.py
# 5. Run: bash scripts/verify_build.sh

# Railway CLI commands:
# railway variables set SECRET_KEY=abc123...
# railway variables set ADMIN_PASSWORD_HASH=pbkdf2:sha256:...
# railway up
