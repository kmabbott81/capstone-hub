# Railway Production Environment Variables
# Phase 1 Security - v0.36.0
# Last Updated: October 4, 2025

# ============================================
# CRITICAL SECURITY SETTINGS
# ============================================

# Flask secret key for session signing
# GENERATE: openssl rand -hex 32
# IMPORTANT: Use different key for staging vs production
SECRET_KEY=your-random-32-character-hex-string-here

# Admin password for write operations
# DEFAULT: HLStearns2025! (CHANGE THIS IN PRODUCTION)
ADMIN_PASSWORD=your-secure-admin-password

# ============================================
# APPLICATION SETTINGS
# ============================================

# Flask environment mode
FLASK_ENV=production

# Port (Railway sets this automatically)
PORT=5000

# Database URL (default uses SQLite)
DATABASE_URL=sqlite:///src/database/app.db

# ============================================
# PHASE 1 SECURITY FEATURES
# ============================================

# CSRF Protection: Enabled by default in code
# WTF_CSRF_ENABLED=True

# Rate Limiting: Memory-based storage
# Default limits: 2000/day, 200/hour
# Login limit: 5 per 15 minutes

# Session Timeout: 30 minutes idle
# SESSION_PERMANENT=True
# PERMANENT_SESSION_LIFETIME=1800

# ============================================
# RAILWAY CLI COMMANDS
# ============================================

# View current variables:
# railway variables list

# Set a variable:
# railway variables set SECRET_KEY=abc123...

# Set multiple variables:
# railway variables set SECRET_KEY=abc123 ADMIN_PASSWORD=newpass

# Delete a variable:
# railway variables delete VARIABLE_NAME

# ============================================
# BACKUP CHECKLIST
# ============================================

# Before changing production variables:
# 1. Document current values (store securely)
# 2. Test new values on staging first
# 3. Have rollback plan ready
# 4. Create database backup

# To backup database:
# 1. Login as admin
# 2. Click üíæ button in admin badge
# 3. Download from src/database/backups/

# ============================================
# SECURITY NOTES
# ============================================

# ‚úÖ SECRET_KEY: Must be unique per environment
# ‚úÖ ADMIN_PASSWORD: Change from default immediately
# ‚úÖ FLASK_ENV: Must be 'production' for secure cookies
# ‚ö†Ô∏è  Never commit this file with real values
# ‚ö†Ô∏è  Store production credentials in password manager
# ‚ö†Ô∏è  Rotate SECRET_KEY periodically (every 90 days)

# ============================================
# TROUBLESHOOTING
# ============================================

# Issue: 403 Forbidden on all requests
# Fix: Verify SECRET_KEY hasn't changed (invalidates sessions)

# Issue: Admin login fails
# Fix: Check ADMIN_PASSWORD matches what you're entering

# Issue: Session expires immediately
# Fix: Verify FLASK_ENV=production for secure cookies over HTTPS

# Issue: Rate limiting not working after restart
# Fix: Expected behavior (memory-based storage resets)
# Solution: Use Redis for persistent rate limiting

# ============================================
# MONITORING
# ============================================

# View application logs:
# railway logs --service capstone-hub

# View recent deployments:
# railway status

# Open production URL:
# railway open

# ============================================
# CONTACT
# ============================================

# Project: HL Stearns AI Strategy Capstone Hub
# Owner: Kyle Mabbott - OEMBA 2025
# Version: 0.36.0 "Phase 1 Security"
# Repository: https://github.com/kmabbott81/capstone-hub
